{{>header}}

import type * as D from '@majkit/fp-ts-schema';

export type ApiResponse<T extends Record<number,D.Decoder<any>>> = {
	[key in keyof T]: {
		readonly status: key;
		readonly body: D.Output<T[key]>;
	};
}[keyof T];

export type ApiRequestOptions<T extends Record<number,D.Decoder<any>>> = {
	readonly method: 'GET' | 'PUT' | 'POST' | 'DELETE' | 'OPTIONS' | 'HEAD' | 'PATCH';
	readonly url: string;
	readonly path?: Record<string, any>;
	readonly cookies?: Record<string, any>;
	readonly headers?: Record<string, any>;
	readonly query?: Record<string, any>;
	readonly formData?: Record<string, any>;
	readonly body?: any;
	readonly mediaType?: string;
	readonly responseDecoders?: T;
	readonly responseHeader?: string;
	readonly errors?: Record<number, string>;
};
